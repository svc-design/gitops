enable_set_timezone: true       # 默认启用 Set timezone
enable_set_hostname: true       # 默认启用 Set hostname
enable_all_hosts_update: false  # 默认不更新所有主机的条目

rsyslog_log_rotation:           # 可选的日志管理配置
  enable: true                  # 启用 rsyslog 日志管理
  rotate_count: 4               # 默认保留的日志文件数量
  rotate_frequency: daily      # 默认每周轮换, 可选：daily, hourly
  max_log_size: 100M            # 默认日志文件最大大小

journald_log_rotation:          # 启用 journald 日志管理
  enable: true                  # 启用 journald 日志管理
  max_log_size: 100M            # 默认日志文件最大大小
  max_files: 100                # 默认保留的最大日志文件数
  max_file_sec: 1month          # 默认日志文件保存的最大时长
  system_max_use: 1G            # 默认系统日志最大使用空间
  runtime_max_use: 500M         # 默认运行时日志最大使用空间

# 总开关
enable_common: true
# 子开关
repo_setup: false         # 是否配置仓库/keys
enable_universe: false    # Ubuntu 是否启用 universe 仓库
install_packages: true    # 是否安装软件包
auto_update_cache: true   # 是否在 repo_setup 后自动 apt update

# keyring 目录
apt_key_dir: /etc/apt/keyrings

# 自定义 keyring 定义（由调用方传入）
apt_keyrings: []

# 清理的遗留路径
apt_repo_legacy:
  - /etc/apt/sources.list.d/hashicorp.sources
  - /usr/share/keyrings/hashicorp-archive-keyring.gpg

# 要安装的软件包
packages:
  - auditd
  - uidmap
  - fuse-overlayfs

# S3FS 挂载配置（可选）
s3fs_enable: false
s3fs_config:
  bucket: ""                    # S3 存储桶名称
  mount_point: ""              # 挂载点路径，例如：/data/update-server/
  access_key: ""               # AWS Access Key ID
  secret_key: ""               # AWS Secret Access Key
  url: "https://s3.amazonaws.com"  # S3 端点 URL
  region: "us-east-1"          # S3 区域
  passwd_file: "~/.passwd-s3fs"  # 密码文件路径
  use_path_request_style: true    # 是否使用路径请求样式
  allow_other: true            # 是否允许其他用户访问
  nonempty: false              # 是否允许挂载到非空目录


    #config_temp:
    #  k8s-node:
    #    dns_servers:
    #      - "8.8.8.8"
    #      - "114.114.114.114"
    #    swap_off: true
    #    ip_forward: true
    #    disk:
    #      - name: /dev/sdb1
    #        mount: /mnt
    #      - name: /var/lib/containerd
    #        mount: /mnt/lib/containerd
    #        type: bind
    #      - name: /var/log/deepflow
    #        mount: /mnt/log/deepflow
    #        type: bind
    #    selinux_enable: false
    #    ssh_auth:
    #      key: /root/.ssh/id_rsa.pub
